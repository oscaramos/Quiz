(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),i=(n(17),n(1));n(18);function s(e){var t=e.text,n=e.answers,r=e.onClickAnswer;return a.a.createElement("div",{className:"question"},a.a.createElement("div",{className:"description"},t),a.a.createElement("div",{className:"answers-container"},n.map((function(e){return a.a.createElement("div",{className:"answer",key:e,onClick:function(){return r(e)}},e)}))))}var u=n(3),l=n.n(u),f=n(6),d=n(11),m=n(5),p=new(n(10).AllHtmlEntities),v=Object(r.createContext)(void 0),w=Object(r.createContext)(void 0),b=function(e){return e.map((function(e){return Object(m.a)({},e,{question:p.decode(e.question),correct_answer:p.decode(e.correct_answer),incorrect_answers:e.incorrect_answers.map((function(e){return p.decode(e)}))})}))},E="RESET_QUIZ",h="START_QUIZ",j="END_QUIZ",O="SET_PENDING",y="SET_QUESTIONS";function Q(e){var t=e.children,n=Object(r.useState)([]),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(r.useReducer)((function(e,t){return s((function(e){return[].concat(Object(d.a)(e),[t])})),function(e,t){switch(t.type){case E:return{pending:!0,questions:[]};case h:case j:return e;case O:return Object(m.a)({},e,{pending:t.payload});case y:return Object(m.a)({},e,{questions:t.payload});default:throw new Error("Unknown action type: ".concat(t.type))}}(e,t)}),{pending:!1,questions:[]}),p=Object(i.a)(u,2),Q=p[0],S=Q.pending,g=Q.questions,z=p[1],q=function(){var e=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z({type:O,payload:!0}),e.prev=1,e.next=4,fetch("https://opentdb.com/api.php?amount=10&category=9&difficulty=easy&type=multiple");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,z({type:y,payload:b(n.results)}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(1),new Error(e.t0.message);case 14:return e.prev=14,z({type:O,payload:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z({type:E}),z({type:h}),q();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(v.Provider,{value:{pending:S,questions:g}},a.a.createElement(w.Provider,{value:{onStartQuiz:A,onEndQuiz:function(){z({type:j})},actionsHistory:o}},t))}function S(){var e=Object(r.useContext)(v);if(void 0===e)throw new Error("useQuizState must be within a QuizProvider");return e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useContext)(w);if(void 0===t)throw new Error("useQuizActions must be within a QuizProvider");var n=Object(r.useState)(0),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){var n;if(t.actionsHistory.length!==c){var r=t.actionsHistory[c],a=null!==(n=t.actionsHistory[c-1])&&void 0!==n?n:{type:""};if(r.type!==a.type)switch(r.type){case h:e.onStartQuiz&&e.onStartQuiz();break;case j:e.onEndQuiz&&e.onEndQuiz();break;case E:e.onResetQuiz&&e.onResetQuiz()}o((function(e){return e+1}))}}),[e,t.actionsHistory,c]),t}function z(e){return[S(),g(e)]}var q=Object(r.createContext)(void 0);function A(e){var t=e.children,n=Object(r.useState)(0),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(r.useState)(0),l=Object(i.a)(u,2),f=l[0],d=l[1];z({onStartQuiz:function(){s(performance.now())},onEndQuiz:function(){s((function(e){return performance.now()-e}))},onResetQuiz:function(){s(0),d(0)}});return a.a.createElement(q.Provider,{value:[{time:o,correctAnswers:f},{onCorrectAnswer:function(){d(f+1)}}]},t)}function N(){var e=Object(r.useContext)(q);if(void 0===e)throw new Error("useStats must be within a StatsProvider");return e}n(22);function k(e,t){var n=e[t],r=n.question,a=n.correct_answer,c=n.incorrect_answers;return{questionContent:r,allAnswers:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}return e}([a].concat(c)),correctAnswer:a,incorrectAnswers:c}}function x(){var e=z(),t=Object(i.a)(e,2),n=t[0].questions,c=t[1].onEndQuiz,o=Object(r.useState)(0),u=Object(i.a)(o,2),l=u[0],f=u[1],d=k(n,l),m=d.questionContent,p=d.allAnswers,v=d.correctAnswer,w=N(),b=Object(i.a)(w,2)[1].onCorrectAnswer;return a.a.createElement("div",{className:"question-page"},a.a.createElement("div",{className:"header"},l+"/"+n.length),a.a.createElement(s,{text:m,answers:p,onClickAnswer:function(e){e===v&&b(),l===n.length-1?c():f((function(e){return e+1}))}}))}n(23);function C(){var e=Object(r.useState)(0),t=Object(i.a)(e,2),n=t[0],c=t[1],o=z({onEndQuiz:function(){c((function(e){return e+1}))}}),s=Object(i.a)(o,2),u=s[0].questions,l=s[1].onStartQuiz,f=N(),d=Object(i.a)(f,1)[0],m=d.correctAnswers,p=d.time,v=n>0;return a.a.createElement("div",{className:"results-page"},v&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"stat"},"Correct answers: ","".concat(m,"/").concat(u.length)),a.a.createElement("div",{className:"stat"},"Time: ","".concat(function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}(p)))),a.a.createElement("button",{className:"start-button",onClick:l},"Start Quiz"))}n(24);function _(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],o=z({onStartQuiz:function(){c(!0)},onEndQuiz:function(){c(!1)}});return Object(i.a)(o,1)[0].pending?a.a.createElement("div",{className:"App"},"loading"):a.a.createElement("div",{className:"App"},n?a.a.createElement(x,null):a.a.createElement(C,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(Q,null,a.a.createElement(A,null,a.a.createElement(_,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.5b1cdec3.chunk.js.map